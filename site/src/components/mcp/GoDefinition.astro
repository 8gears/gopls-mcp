---
// src/components/mcp/GoDefinition.astro
import McpStyles from './McpStyles.astro';
---

<McpStyles />

<div class="mcp-terminal-container">
  <div class="mcp-title-bar">
    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
      <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
    </svg>
    <span>go_definition</span>
  </div>

  <div class="editor-window">
    <div class="editor-header">
      <div class="file-info">
        <svg class="file-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline></svg>
        <span class="file-name">main.go</span>
      </div>
      <span class="editor-pos">Ln 12</span>
    </div>
    <div class="editor-body">
      <div class="line"><span class="line-num">12</span>   sum := <span class="highlight-trigger">Add</span>(1, 2)</div>
    </div>
  </div>

  <div class="protocol-trace">
    <div class="trace-header">
      <svg class="trace-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path></svg>
      <span class="trace-label">MCP PROTOCOL TRACE</span>
    </div>

    <div class="trace-item request">
      <div class="trace-direction">>> OUT (Request)</div>
      <div class="trace-content">
        <span class="key">call_tool:</span> <span class="val-str">go_definition</span><br/>
        <span class="key">locator:</span> {'{'} <span class="key">symbol_name:</span> <span class="val-str">"Add"</span>, <span class="key">context_file:</span> <span class="val-str">"main.go"</span> {'}'}
      </div>
    </div>

    <div class="trace-item response">
      <div class="trace-direction"><< IN (Response)</div>
      <div class="trace-content">
        {'{'} <span class="key">signature:</span> <span class="val-str">"func Add(a, b int) int"</span>, <span class="key">file:</span> <span class="val-str">"math.go:15"</span> {'}'}
      </div>
    </div>
  </div>
</div>
