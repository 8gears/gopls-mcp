---
// src/components/mcp/GoCallHierarchy.astro
import McpStyles from './McpStyles.astro';
---

<McpStyles />

<div class="mcp-terminal-container">
  <div class="mcp-title-bar">
    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="3" width="7" height="7"></rect>
      <rect x="14" y="3" width="7" height="7"></rect>
      <rect x="14" y="14" width="7" height="7"></rect>
      <path d="M10 6.5h4"></path>
      <path d="M17.5 10v4"></path>
    </svg>
    <span>go_get_call_hierarchy</span>
  </div>

  <div class="editor-window">
    <div class="editor-header">
      <div class="file-info">
        <svg class="file-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline></svg>
        <span class="file-name">main.go</span>
      </div>
      <span class="editor-pos">Ln 5</span>
    </div>
    <div class="editor-body">
      <div class="line"><span class="line-num">5</span>   <span class="kwd">func</span> <span class="highlight-trigger">main</span>() {'{'}</div>
    </div>
  </div>

  <div class="protocol-trace">
    <div class="trace-header">
      <svg class="trace-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path></svg>
      <span class="trace-label">MCP PROTOCOL TRACE</span>
    </div>

    <div class="trace-item request">
      <div class="trace-direction">>> OUT (Request)</div>
      <div class="trace-content">
        <span class="key">call_tool:</span> <span class="val-str">go_get_call_hierarchy</span><br/>
        <span class="key">locator:</span> {'{'} <span class="key">symbol_name:</span> <span class="val-str">"main"</span> {'}'}, <span class="key">direction:</span> <span class="val-str">"outgoing"</span>
      </div>
    </div>

    <div class="trace-item response">
      <div class="trace-direction"><< IN (Response)</div>
      <div class="trace-content">
        <span class="key">outgoing_calls:</span> [<br/>
        <div class="json-indent">
          <span class="val-str">"helperA() @ main.go:10"</span>,<br/>
          <span class="val-str">"helperB() @ main.go:14"</span>
        </div>
        ]
      </div>
    </div>
  </div>
</div>
